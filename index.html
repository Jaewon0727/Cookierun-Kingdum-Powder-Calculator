<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Run Kingdom 스킬 파우더 계산기</title>
<style>
  body {
    font-family: "Noto Sans KR", sans-serif;
    background: #f9fafb;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px;
  }
  h1 { color: #333; }
  input, button {
    font-size: 16px;
    margin: 5px;
    padding: 8px 12px;
  }
  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  button:hover {
    background-color: #45a049;
  }
  .result {
    margin-top: 25px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    padding: 20px;
    width: 350px;
  }
</style>
</head>
<body>
  <h1>🍪 쿠키런 킹덤 스킬 파우더 계산기</h1>

  <label>현재 레벨: <input type="number" id="currentLevel" min="1" max="89" value="1"></label>
  <label>목표 레벨: <input type="number" id="targetLevel" min="2" max="90" value="90"></label>
  <button onclick="calculate()">계산하기</button>

  <div class="result" id="resultBox"></div>

<script>
const powderData = {
  2: 1, 3: 1, 4: 2, 5: 2, 6: 3, 7: 3, 8: 4, 9: 4, 10: 5, 11: 5,
  12: 6, 13: 6, 14: 7, 15: 7, 16: 8, 17: 8, 18: 9, 19: 9, 20: 10,
  21: 10, 22: 11, 23: 12, 24: 12, 25: 13, 26: 13, 27: 14, 28: 14, 29: 15, 30: 15,
  31: 6, 32: 6, 33: 7, 34: 7, 35: 8, 36: 8, 37: 9, 38: 9, 39: 10, 40: 10,
  41: 2, 42: 4, 43: 6, 44: 8, 45: 10, 46: 12, 47: 14, 48: 16, 49: 18, 50: 20,
  51: 20, 52: 22, 53: 22, 54: 24, 55: 24, 56: 26, 57: 26, 58: 28, 59: 28, 60: 30,
  61: 30, 62: 30, 63: 30, 64: 30, 65: 30, 66: 30, 67: 30, 68: 30, 69: 30, 70: 30,
  71: 35, 72: 35, 73: 35, 74: 35, 75: 35, 76: 40, 77: 40, 78: 40, 79: 40, 80: 40,
  81: 45, 82: 45, 83: 45, 84: 45, 85: 45, 86: 50, 87: 50, 88: 50, 89: 50, 90: 50
};

function getPowderType(level) {
  if (level <= 30) return "보통 파우더";
  else if (level <= 60) return "희귀 파우더";
  else return "에픽 파우더";
}

function calculate() {
  const current = parseInt(document.getElementById('currentLevel').value);
  const target = parseInt(document.getElementById('targetLevel').value);
  const resultBox = document.getElementById('resultBox');

  if (isNaN(current) || isNaN(target) || current >= target || current < 1 || target > 90) {
    resultBox.innerHTML = "⚠️ 유효한 레벨 구간(1~89 → 2~90)을 입력하세요.";
    return;
  }

  let total = 0;
  let typeCount = { "보통 파우더": 0, "희귀 파우더": 0, "에픽 파우더": 0 };

  for (let lv = current + 1; lv <= target; lv++) {
    const need = powderData[lv] || 0;
    const type = getPowderType(lv);
    typeCount[type] += need;
    total += need;
  }

  resultBox.innerHTML = `
    <h3>📊 계산 결과</h3>
    <p>레벨 ${current} → ${target}</p>
    <p>보통 파우더: ${typeCount["보통 파우더"]}개</p>
    <p>희귀 파우더: ${typeCount["희귀 파우더"]}개</p>
    <p>에픽 파우더: ${typeCount["에픽 파우더"]}개</p>
    <hr>
    <p><b>총합: ${total}개</b></p>
  `;
}
</script>
</body>
</html>
